function setChosenWordList(){selectedVocaIDs=[];$("#choosingWords :checkbox:checked").each(function(){selectedVocaIDs.push($(this).val())})}function displayChoosingResult(){var n="",t="",i="",r="";$("#chkHiraganaChoosing").is(":checked")&&(n+=vocas[index].Hiragana1,t+=vocas[index].Hiragana2,i+=vocas[index].Hiragana3,r+=vocas[index].Hiragana4,n+=vocas[index].Katakana1==""?"":" 。 "+vocas[index].Katakana1,t+=vocas[index].Katakana2==""?"":" 。 "+vocas[index].Katakana2,i+=vocas[index].Katakana3==""?"":" 。 "+vocas[index].Katakana3,r+=vocas[index].Katakana4==""?"":" 。 "+vocas[index].Katakana4);$("#chkKanjiChoosing").is(":checked")&&(n+=n==""?vocas[index].Kanji1:" 。 "+vocas[index].Kanji1,t+=t==""?vocas[index].Kanji2:" 。 "+vocas[index].Kanji2,i+=i==""?vocas[index].Kanji3:" 。 "+vocas[index].Kanji3,r+=r==""?vocas[index].Kanji4:" 。 "+vocas[index].Kanji4);$("#result1").html(n);$("#result2").html(t);$("#result3").html(i);$("#result4").html(r)}function selectChoosingResult(n){clearChoosing();switch(n){case 1:$("#result1").prop("class","list-group-item active");speak($("#urlAudio1").val());$("#selectedValue").val(1);break;case 2:$("#result2").prop("class","list-group-item active");speak($("#urlAudio2").val());$("#selectedValue").val(2);break;case 3:$("#result3").prop("class","list-group-item active");speak($("#urlAudio3").val());$("#selectedValue").val(3);break;case 4:$("#result4").prop("class","list-group-item active");speak($("#urlAudio4").val());$("#selectedValue").val(4)}}function selectTranslatingResult(n){clearTranslating();switch(n){case 1:$("#result1Translating").prop("class","list-group-item active");$("#selectedValueTranslating").val(1);break;case 2:$("#result2Translating").prop("class","list-group-item active");$("#selectedValueTranslating").val(2);break;case 3:$("#result3Translating").prop("class","list-group-item active");$("#selectedValueTranslating").val(3);break;case 4:$("#result4Translating").prop("class","list-group-item active");$("#selectedValueTranslating").val(4)}}function updateLevel(n,t){for(var i=0;i<failArray.length;i++)if(failArray[i].ID==n.ID){t?(failArray[i].Level+=1,failArray[i].Level>10&&(failArray[i].Level=10)):(failArray[i].Level-=2,failArray[i].Level<0&&(failArray[i].Level=0));break}}function updateUserVocas(n){updateVocas.length>0&&$.ajax({cache:!0,type:"post",async:n,url:"/Library/"+$("#uuv").val(),data:JSON.stringify(updateVocas),dataType:"json",contentType:"application/json",success:function(n){n.ReturnCode==accessDenied?window.location.href="/Account/RequireLogin":n.ReturnCode!=0&&alert("Có lỗi xảy ra")},error:function(n){return console.log(n.responseText),!1}})}function updateFastTestVoca(){$.ajax({cache:!0,type:"post",async:!0,url:"/Library/UpdateFastTestVoca",data:JSON.stringify(vocas[index]),dataType:"json",contentType:"application/json",success:function(n){n.ReturnCode!=0},error:function(n){return console.log(n.responseText),!1}})}function clearChoosing(){$("a[name=resultChoosing]").each(function(){$(this).prop("class","list-group-item")})}function clearTranslating(){$("a[name=resultTranslating]").each(function(){$(this).prop("class","list-group-item")})}function getReadingVocas(){vocas=[];failArray=[];updateVocas=[];var t=$("#vcd").val(),n=$("#accessDenied").val();$.ajax({cache:!0,type:"get",async:!0,url:"/Library/"+$("#grl").val(),dataType:"json",success:function(t){if(t.returnCode==n)window.location.href="/Account/RequireLogin";else if($.each(t.vocabularies,function(n,t){var i,r;if(selectedVocaIDs.length>0){for(i=0;i<selectedVocaIDs.length;i++)if(t.ID==selectedVocaIDs[i]){vocas.push(t);failArray.push(t);break}}else vocas.push(t),failArray.push(t);r=new Audio(t.UrlAudio);r.load()}),$("#modelTestReading").modal(),vocas.length>0)$("#inputAlphabet").val(""),$("#inputAlphabet").focus(),index=0,$("#alphabet").html(vocas[index].Description),$("#image").prop("src",getLink(vocas[index].UrlImage)),$("#divResultReading").html("<strong>0/"+vocas.length+"<\/strong>"),$("#divResultMessageReading").html("");else return alert("Không tìm thấy từ vựng!"),!1},error:function(n){return console.log(n.responseText),!1},beforeSend:function(){$("#loadingModal").modal()},complete:function(){$("#loadingModal").modal("hide")}})}function getChoosingVocas(){var n=!0,i,t;return vocas=[],failArray=[],updateVocas=[],$("#selectedValue").val(""),clearChoosing(),i=$("#vcd").val(),t=$("#accessDenied").val(),$.ajax({cache:!0,type:"get",async:!0,url:"/Library/"+$("#gcl").val(),dataType:"json",success:function(n){n.returnCode==t?window.location.href="/Account/RequireLogin":($.each(n.vocabularies,function(n,t){var i,r;if(selectedVocaIDs.length>0){for(i=0;i<selectedVocaIDs.length;i++)if(t.ID==selectedVocaIDs[i]){vocas.push(t);failArray.push(t);break}}else vocas.push(t),failArray.push(t);r=new Audio(t.UrlAudio);r.load()}),vocas.length>=4?($("#modelTestChoosing").modal(),index=0,$("#imageChoosing").prop("src",getLink(vocas[index].UrlImage)),$("#descriptionChoosing").html(vocas[index].Description),$("#correctValue").val(vocas[index].CorrectResult),$("#result1").html(vocas[index].Result1),$("#urlAudio1").val(vocas[index].ResultUrlAudio1),$("#result2").html(vocas[index].Result2),$("#urlAudio2").val(vocas[index].ResultUrlAudio2),$("#result3").html(vocas[index].Result3),$("#urlAudio3").val(vocas[index].ResultUrlAudio3),$("#result4").html(vocas[index].Result4),$("#urlAudio4").val(vocas[index].ResultUrlAudio4),$("#chkHiraganaChoosing").prop("checked",!0),$("#chkKanjiChoosing").prop("checked",!1),vocas[index].DisplayType=="3"&&($("#divHiraganaChoosing").hide(),$("#divKanjiChoosing").hide(),$("#chkHiraganaChoosing").prop("checked",!1),$("#chkKanjiChoosing").prop("checked",!0)),$("#divResultChoosing").html("<strong>0/"+vocas.length+"<\/strong>"),$("#divResultMessageChoosing").html("")):(alert("Không tìm thấy từ vựng hoặc không đủ để tạo trắc nghiệm!"),n=!1))},error:function(t){console.log(t.responseText);n=!1},beforeSend:function(){$("#loadingModal").modal()},complete:function(){$("#loadingModal").modal("hide")}}),n}function getTranslatingVocas(){var n=!0,i,t;return vocas=[],failArray=[],updateVocas=[],$("#selectedValueTranslating").val(""),clearTranslating(),i=$("#vcd").val(),t=$("#accessDenied").val(),$.ajax({cache:!0,type:"get",async:!0,url:"/Library/"+$("#gtl").val(),dataType:"json",success:function(n){n.returnCode==t?window.location.href="/Account/RequireLogin":($.each(n.vocabularies,function(n,t){var i,r;if(selectedVocaIDs.length>0){for(i=0;i<selectedVocaIDs.length;i++)if(t.ID==selectedVocaIDs[i]){vocas.push(t);failArray.push(t);break}}else vocas.push(t),failArray.push(t);r=new Audio(t.UrlAudio);r.load()}),vocas.length>=4?($("#modelTestTranslating").modal(),index=0,$("#hiraganaTranslating").html(vocas[index].Hiragana),$("#katakanaTranslating").html(vocas[index].Katakana),$("#kanjiTranslating").html(vocas[index].Kanji),$("#correctValueTranslating").val(vocas[index].CorrectResult),$("#result1Translating").html(vocas[index].Result1),$("#result2Translating").html(vocas[index].Result2),$("#result3Translating").html(vocas[index].Result3),$("#result4Translating").html(vocas[index].Result4),vocas[index].DisplayType=="3"?($("#divHiraganaTranslating").hide(),$("#divKanjiTranslating").hide(),$("#chkHiraganaTranslating").prop("checked",!1),$("#chkKanjiTranslating").prop("checked",!0)):($("#divHiraganaTranslating").show(),$("#divKanjiTranslating").show(),$("#chkHiraganaTranslating").prop("checked",!0),$("#chkKanjiTranslating").prop("checked",!1)),$("#divResultTranslating").html("<strong>0/"+vocas.length+"<\/strong>"),$("#divResultMessageTranslating").html("")):(alert("Không tìm thấy từ vựng hoặc không đủ để tạo trắc nghiệm!"),n=!1))},error:function(t){console.log(t.responseText);n=!1},beforeSend:function(){$("#loadingModal").modal()},complete:function(){$("#loadingModal").modal("hide")}}),n}function getLink(n){return n}var vocas=[],failArray=[],updateVocas=[],selectedVocaIDs=[],index=1,count=1;$(document).ready(function(){$("#modalChoosingWord").on("show.bs.modal",function(){$("#choosingWords").load("/Library/"+$("#gcv").val())});$("#btnOkChoosingWordModal").on("click",function(){$("#modalChoosingWord").modal("hide");setChosenWordList()});$(".aReading").on("click",function(){return getReadingVocas(),!1});$("#btnOkReadingModal").on("click",function(){var n=$("#inputAlphabet").val().toLowerCase().replace(/\s+/g,""),t="1";if(n!=""){if(vocas[index].DisplayType=="3"){var r=vocas[index].OnRomaji.toLowerCase().replace(/\s+/g,""),u=vocas[index].OnReading.toLowerCase().replace(/\s+/g,""),f=vocas[index].OnRomaji2.toLowerCase().replace(/\s+/g,""),e=vocas[index].OnReading2.toLowerCase().replace(/\s+/g,""),o=vocas[index].KunRomaji.toLowerCase().replace(/\s+/g,""),s=vocas[index].KunReading.toLowerCase().replace(/\s+/g,""),h=vocas[index].KunRomaji2.toLowerCase().replace(/\s+/g,""),c=vocas[index].KunReading2.toLowerCase().replace(/\s+/g,""),i=vocas[index].Kanji.toLowerCase().replace(/\s+/g,"");n!=r&&n!=u&&n!=f&&n!=e&&n!=o&&n!=s&&n!=h&&n!=c&&n!=i&&(t="0")}else{var l=vocas[index].Romaji.toLowerCase().replace(/\s+/g,""),a=vocas[index].Hiragana.toLowerCase().replace(/\s+/g,""),v=vocas[index].Katakana.toLowerCase().replace(/\s+/g,""),i=vocas[index].Kanji.toLowerCase().replace(/\s+/g,"");n!=l&&n!=a&&n!=v&&n!=i&&(t="0")}if(t=="0"){if(count<3)return count++,$("#divResultMessageReading").html("<strong>SAI. Lại lần nữa!<\/strong>"),speak(vocas[index].UrlAudio),$("#inputAlphabet").val(""),$("#inputAlphabet").focus(),!1}else $("#divResultMessageReading").html("<strong>ĐÚNG<\/strong>");count=0;vocas[index].IsCorrect=t;updateVocas.push(vocas[index]);$("#divResultReading").html("<strong>"+(index+1)+"/"+vocas.length+"<\/strong>");$("#inputAlphabet").val("");$("#inputAlphabet").focus();index==vocas.length-1?(alert("Xong!"),$("#alphabet").html("XONG!"),$("#image").removeAttr("src"),$("#modelTestReading").modal("hide")):(index++,$("#alphabet").html(vocas[index].Description),$("#image").prop("src",getLink(vocas[index].UrlImage)))}else alert("Nhập từ vựng!")});$("#modelTestReading").keydown(function(n){var t=n.keyCode?n.keyCode:n.which;if(t=="13")return $("#btnOkReadingModal").trigger("click"),!1});$("#modelTestReading").on("hidden.bs.modal",function(){updateUserVocas(!0)});$("#modelTestReading").on("shown.bs.modal",function(){$("#inputAlphabet").focus()});$("#chkHiraganaChoosing, #chkKatakanaChoosing, #chkKanjiChoosing").on("change",function(){displayChoosingResult()});$("a[name=resultChoosing]").on("click",function(){clearChoosing();$(this).prop("class","list-group-item active");switch(this.id){case"result1":speak($("#urlAudio1").val());$("#selectedValue").val(1);break;case"result2":speak($("#urlAudio2").val());$("#selectedValue").val(2);break;case"result3":speak($("#urlAudio3").val());$("#selectedValue").val(3);break;case"result4":speak($("#urlAudio4").val());$("#selectedValue").val(4)}return!1});$(".aChoosing").on("click",function(){return $("#hiraganaChoosing").show(),$("#divHiraganaChoosing").show(),$("#kanjiChoosing").show(),$("#divKanjiChoosing").show(),$("#chkHiraganaChoosing").prop("checked",!0),$("#chkKanjiChoosing").prop("checked",!1),getChoosingVocas(),!1});$("#btnOkChoosingModal").on("click",function(){var n=$("#selectedValue").val().toLowerCase().replace(/\s+/g,""),t=$("#correctValue").val().toLowerCase().replace(/\s+/g,"");if(vocas[index].IsCorrect="1",n!=""){if(n!=t)return vocas[index].IsCorrect="0",$("#divResultMessageChoosing").html("<strong>SAI. Lại lần nữa!<\/strong>"),!1;$("#divResultMessageChoosing").html("<strong>ĐÚNG<\/strong>");updateLevel(vocas[index],!0);updateVocas.push(vocas[index]);$("#divResultChoosing").html("<strong>"+(index+1)+"/"+vocas.length+"<\/strong>");index==vocas.length-1?(alert("Xong!"),$("#modelTestChoosing").modal("hide")):(index++,$("#imageChoosing").prop("src",getLink(vocas[index].UrlImage)),$("#descriptionChoosing").html(vocas[index].Description),$("#correctValue").val(vocas[index].CorrectResult),displayChoosingResult(),$("#urlAudio1").val(vocas[index].ResultUrlAudio1),$("#urlAudio2").val(vocas[index].ResultUrlAudio2),$("#urlAudio3").val(vocas[index].ResultUrlAudio3),$("#urlAudio4").val(vocas[index].ResultUrlAudio4));clearChoosing();$("#selectedValue").val("")}else alert("Chọn 1 giá trị!")});$("#modelTestChoosing").keydown(function(n){var t=n.keyCode?n.keyCode:n.which;return t=="13"?($("#btnOkChoosingModal").trigger("click"),!1):t==65||t==97?(selectChoosingResult(1),!1):t==66||t==98?(selectChoosingResult(2),!1):t==67||t==99?(selectChoosingResult(3),!1):t==68||t==100?(selectChoosingResult(4),!1):t==38?($("#selectedValue").val()=="1"?selectChoosingResult(4):$("#selectedValue").val()=="2"?selectChoosingResult(1):$("#selectedValue").val()=="3"?selectChoosingResult(2):$("#selectedValue").val()=="4"?selectChoosingResult(3):selectChoosingResult(1),!1):t==40?($("#selectedValue").val()=="1"?selectChoosingResult(2):$("#selectedValue").val()=="2"?selectChoosingResult(3):$("#selectedValue").val()=="3"?selectChoosingResult(4):$("#selectedValue").val()=="4"?selectChoosingResult(1):selectChoosingResult(1),!1):void 0});$("#modelTestChoosing").on("hidden.bs.modal",function(){updateUserVocas(!0)});$("#chkHiraganaTranslating").on("change",function(){$(this).is(":checked")?($("#hiraganaTranslating").show(),$("#katakanaTranslating").show()):($("#hiraganaTranslating").hide(),$("#katakanaTranslating").hide())});$("#chkKanjiTranslating").on("change",function(){$(this).is(":checked")?$("#kanjiTranslating").show():$("#kanjiTranslating").hide()});$("#speakTranslating").on("click",function(){return speak(vocas[index].UrlAudio),!1});$("a[name=resultTranslating]").on("click",function(){clearTranslating();$(this).prop("class","list-group-item active");switch(this.id){case"result1Translating":$("#selectedValueTranslating").val(1);break;case"result2Translating":$("#selectedValueTranslating").val(2);break;case"result3Translating":$("#selectedValueTranslating").val(3);break;case"result4Translating":$("#selectedValueTranslating").val(4)}return!1});$(".aTranslating").on("click",function(){return $("#hiraganaTranslating").show(),$("#katakanaTranslating").show(),$("#kanjiTranslating").hide(),$("#divHiraganaTranslating").show(),$("#divKanjiTranslating").show(),$("#chkHiraganaTranslating").prop("checked",!0),$("#chkKanjiTranslating").prop("checked",!1),getTranslatingVocas(),!1});$("#btnOkTranslatingModal").on("click",function(){var n=$("#selectedValueTranslating").val().toLowerCase().replace(/\s+/g,""),t=$("#correctValueTranslating").val().toLowerCase().replace(/\s+/g,"");if(vocas[index].IsCorrect="1",n!=""){if(n!=t)return vocas[index].IsCorrect="0",$("#divResultMessageTranslating").html("<strong>SAI. Lại lần nữa!<\/strong>"),!1;$("#divResultMessageTranslating").html("<strong>ĐÚNG<\/strong>");updateLevel(vocas[index],!0);updateVocas.push(vocas[index]);$("#divResultTranslating").html("<strong>"+(index+1)+"/"+vocas.length+"<\/strong>");index==vocas.length-1?(alert("Xong!"),$("#modelTestTranslating").modal("hide")):(index++,$("#hiraganaTranslating").html(vocas[index].Hiragana),$("#katakanaTranslating").html(vocas[index].Katakana),$("#kanjiTranslating").html(vocas[index].Kanji),$("#correctValueTranslating").val(vocas[index].CorrectResult),$("#result1Translating").html(vocas[index].Result1),$("#result2Translating").html(vocas[index].Result2),$("#result3Translating").html(vocas[index].Result3),$("#result4Translating").html(vocas[index].Result4),vocas[index].DisplayType=="3"?($("#divHiraganaTranslating").hide(),$("#divKanjiTranslating").hide()):($("#divHiraganaTranslating").show(),$("#divKanjiTranslating").show()));clearTranslating();$("#selectedValueTranslating").val("")}else alert("Chọn 1 giá trị!")});$("#modelTestTranslating").keydown(function(n){var t=n.keyCode?n.keyCode:n.which;return t=="13"?($("#btnOkTranslatingModal").trigger("click"),!1):t==32?(speak(vocas[index].UrlAudio),!1):t==65||t==97?(selectTranslatingResult(1),!1):t==66||t==98?(selectTranslatingResult(2),!1):t==67||t==99?(selectTranslatingResult(3),!1):t==68||t==100?(selectTranslatingResult(4),!1):t==38?($("#selectedValueTranslating").val()=="1"?selectTranslatingResult(4):$("#selectedValueTranslating").val()=="2"?selectTranslatingResult(1):$("#selectedValueTranslating").val()=="3"?selectTranslatingResult(2):$("#selectedValueTranslating").val()=="4"?selectChoosingResult(3):selectTranslatingResult(1),!1):t==40?($("#selectedValueTranslating").val()=="1"?selectTranslatingResult(2):$("#selectedValueTranslating").val()=="2"?selectTranslatingResult(3):$("#selectedValueTranslating").val()=="3"?selectTranslatingResult(4):$("#selectedValueTranslating").val()=="4"?selectTranslatingResult(1):selectTranslatingResult(1),!1):void 0});$("#modelTestTranslating").on("hidden.bs.modal",function(){updateUserVocas(!0)})});
/*
//# sourceMappingURL=prnot.min.js.map
*/