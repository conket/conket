function checkAllWordReading(n){n?$("input[name=chkWordType]").each(function(n,t){$(t).prop("checked",!0)}):$("input:checked[name=chkWordType]").each(function(n,t){$(t).removeAttr("checked")})}function checkAllReading(n){n?$("input[name=chkAlphabet]").each(function(n,t){$(t).prop("checked",!0)}):$("input:checked[name=chkAlphabet]").each(function(n,t){$(t).removeAttr("checked")})}function getReadings(n,t,i,r,u){writingWordArray=[];$.ajax({cache:!0,type:"get",async:!0,url:"/Test/"+$("#gw").val(),data:{hasNormal:n,hasDA:t,hasLongSound:i,hasTsu:r,hasAA:u},dataType:"json",success:function(n){$.each(n.words,function(n,t){writingWordArray.push(t)});writingWordArray.length>0?($("#modelWordReading").modal("hide"),$("#modelTestWordReading").modal(),$("#inputWord").val(""),index=0,$("#word").html(writingWordArray[index].Katakana),$("#chkVoiceWordReading").is(":checked")?(usingVoice=!0,speak(writingWordArray[index].Romaji)):usingVoice=!1,$("#divResultWordReading").html("<strong>0/"+writingWordArray.length+"<\/strong>"),$("#divResultMessageWordReading").html("")):alert("Chọn!")},error:function(n){console.log(n.responseText)}})}function getWritings(n,t,i,r,u){writingWordArray=[];$.ajax({cache:!0,type:"get",async:!0,url:"/Test/"+$("#gw").val(),data:{hasNormal:n,hasDA:t,hasLongSound:i,hasTsu:r,hasAA:u},dataType:"json",success:function(n){if($.each(n.words,function(n,t){writingWordArray.push(t)}),writingWordArray.length>0)indexWriting=0,$("#alphabetWriting").html("<strong>"+writingWordArray[indexWriting].Katakana+"<\/strong>"),$("#meaningWriting").html("<strong>"+writingWordArray[indexWriting].VMeaning+"<\/strong>"),$("#romajiWriting").val(writingWordArray[indexWriting].Romaji),$("#chkDisplay").removeAttr("checked"),$("#alphabetWriting").css("display","none"),$("#meaningWriting").css("display","block"),speak(writingWordArray[indexWriting].Romaji);else return alert("Không tìm thấy dữ liệu"),!1},error:function(n){console.log(n.responseText)}})}function speak(n){messageAudio!=null&&messageAudio.pause();messageAudio=new Audio("/Content/media/alphabet/"+n+".mp3");messageAudio.play()}function checkExistAlphabet(n,t){for(var i=0;i<n.length;i++)if(n[i]==t)return!0;return!1}function createAlphabet(){for(var n=[],i,r,t;n.length<104;){for(i=Math.floor(Math.random()*104+1),r=!1,t=0;t<n.length;t++)if(n[t]==i){r=!0;break}r||n.push(i)}return n}var associativeArray={"1":"ア","2":"イ","3":"ウ","4":"エ","5":"オ","6":"カ","7":"キ","8":"ク","9":"ケ","10":"コ","11":"サ","12":"シ","13":"ス","14":"セ","15":"ソ","16":"タ","17":"チ","18":"ツ","19":"テ","20":"ト","21":"ナ","22":"ニ","23":"ヌ","24":"ネ","25":"ノ","26":"ハ","27":"ヒ","28":"フ","29":"ヘ","30":"ホ","31":"マ","32":"ミ","33":"ム","34":"メ","35":"モ","36":"ヤ","37":"ユ","38":"ヨ","39":"ア","40":"リ","41":"ル","42":"レ","43":"ロ","44":"ワ","45":"ヲ","46":"ン","47":"ガ","48":"ギ","49":"グ","50":"ゲ","51":"ゴ","52":"ァ","53":"ジ","54":"ズ","55":"ゼ","56":"ゾ","57":"ダ","58":"ヂ","59":"ヅ","60":"デ","61":"ド","62":"バ","63":"ビ","64":"ブ","65":"ベ","66":"ボ","67":"パ","68":"ピ","69":"プ","70":"ペ","71":"ポ","72":"キャ","73":"キュ","74":"キョ","75":"シャ","76":"シュ","77":"ショ","78":"チャ","79":"チュ","80":"チョ","81":"ニャ","82":"ニュ","83":"ニョ","84":"ヒャ","85":"ヒュ","86":"ヒョ","87":"ミャ","88":"ミュ","89":"ミョ","90":"リャ","91":"リュ","92":"リョ","93":"ギャ","94":"ギュ","95":"ギョ","96":"ジャ","97":"ジュ","98":"ジョ","99":"ビャ","100":"ビュ","101":"ビョ","102":"ピャ","103":"ピュ","104":"ピョ"},romajiArray={"1":"a","2":"i","3":"u","4":"e","5":"o","6":"ka","7":"ki","8":"ku","9":"ke","10":"ko","11":"sa","12":"shi","13":"su","14":"se","15":"so","16":"ta","17":"chi","18":"tsu","19":"te","20":"to","21":"na","22":"ni","23":"nu","24":"ne","25":"no","26":"ha","27":"hi","28":"fu","29":"he","30":"ho","31":"ma","32":"mi","33":"mu","34":"me","35":"mo","36":"ya","37":"yu","38":"yo","39":"ra","40":"ri","41":"ru","42":"re","43":"ro","44":"wa","45":"wo","46":"n","47":"ga","48":"gi","49":"gu","50":"ge","51":"go","52":"za","53":"ji","54":"zu","55":"ze","56":"zo","57":"da","58":"di","59":"du","60":"de","61":"do","62":"ba","63":"bi","64":"bu","65":"be","66":"bo","67":"pa","68":"pi","69":"pu","70":"pe","71":"po","72":"kya","73":"kyu","74":"kyo","75":"sha","76":"shu","77":"sho","78":"cha","79":"chu","80":"cho","81":"nya","82":"nyu","83":"nyo","84":"hya","85":"hyu","86":"hyo","87":"mya","88":"myu","89":"myo","90":"rya","91":"ryu","92":"ryo","93":"gya","94":"gyu","95":"gyo","96":"ja","97":"ju","98":"jo","99":"bya","100":"byu","101":"byo","102":"pya","103":"pyu","104":"pyo"},writingWordArray=[],messageAudio;$(document).ready(function(){var n=[],r=[],u=[],f=[],t=0,e=!1,i;$("#btnOkModal").on("click",function(){var o,i;if(n=[],r=[],u=[],f=[],$("input:checked[name=chkAlphabet]").each(function(){n.push($(this).attr("id"))}),$("input:checked[name=chkAlphabet]").each(function(){$(this).removeAttr("checked")}),$("#chkSelectAllReading").removeAttr("checked"),$("#loadingModal").modal(),o=createAlphabet(),!checkExistAlphabet(n,"a"))for(i=1;i<=5;i++)o.remove(i);if(!checkExistAlphabet(n,"ka"))for(i=6;i<=10;i++)o.remove(i);if(!checkExistAlphabet(n,"sa"))for(i=11;i<=15;i++)o.remove(i);if(!checkExistAlphabet(n,"ta"))for(i=16;i<=20;i++)o.remove(i);if(!checkExistAlphabet(n,"na"))for(i=21;i<=25;i++)o.remove(i);if(!checkExistAlphabet(n,"ha"))for(i=26;i<=30;i++)o.remove(i);if(!checkExistAlphabet(n,"ma"))for(i=31;i<=35;i++)o.remove(i);if(!checkExistAlphabet(n,"ya"))for(i=36;i<=38;i++)o.remove(i);if(!checkExistAlphabet(n,"ra"))for(i=39;i<=43;i++)o.remove(i);if(!checkExistAlphabet(n,"wa"))for(i=44;i<=46;i++)o.remove(i);if(!checkExistAlphabet(n,"ga"))for(i=47;i<=51;i++)o.remove(i);if(!checkExistAlphabet(n,"za"))for(i=52;i<=56;i++)o.remove(i);if(!checkExistAlphabet(n,"da"))for(i=57;i<=61;i++)o.remove(i);if(!checkExistAlphabet(n,"ba"))for(i=62;i<=66;i++)o.remove(i);if(!checkExistAlphabet(n,"pa"))for(i=67;i<=71;i++)o.remove(i);if(!checkExistAlphabet(n,"kya"))for(i=72;i<=74;i++)o.remove(i);if(!checkExistAlphabet(n,"sha"))for(i=75;i<=77;i++)o.remove(i);if(!checkExistAlphabet(n,"cha"))for(i=78;i<=80;i++)o.remove(i);if(!checkExistAlphabet(n,"nya"))for(i=81;i<=83;i++)o.remove(i);if(!checkExistAlphabet(n,"hya"))for(i=84;i<=86;i++)o.remove(i);if(!checkExistAlphabet(n,"mya"))for(i=87;i<=89;i++)o.remove(i);if(!checkExistAlphabet(n,"rya"))for(i=90;i<=92;i++)o.remove(i);if(!checkExistAlphabet(n,"gya"))for(i=93;i<=95;i++)o.remove(i);if(!checkExistAlphabet(n,"ja"))for(i=96;i<=98;i++)o.remove(i);if(!checkExistAlphabet(n,"bya"))for(i=99;i<=101;i++)o.remove(i);if(!checkExistAlphabet(n,"pya"))for(i=102;i<=104;i++)o.remove(i);for(i=0;i<o.length;i++)r.push(associativeArray[o[i].toString()]);for(i=0;i<o.length;i++)f.push(romajiArray[o[i].toString()]);$("#loadingModal").modal("hide");r.length>0?($("#modelReading").modal("hide"),$("#modelTestReading").modal(),$("#inputAlphabet").val(""),$("#inputAlphabet").focus(),t=0,$("#alphabet").html(r[t]),$("#chkVoiceReading").is(":checked")?(e=!0,speak(f[t])):e=!1,$("#divResultReading").html("<strong>0/"+r.length+"<\/strong>"),$("#divResultMessageReading").html("")):alert("Chọn kí tự!")});$("#btnOkReadingModal").on("click",function(){var o,n,s,i;if($("#inputAlphabet").val()!=""){if($("#inputAlphabet").val()!=f[t]?$("#divResultMessageReading").html("<strong>SAI. TỪ ĐÚNG: "+f[t]+" - "+r[t]+"<\/strong>"):($("#divResultMessageReading").html("<strong>ĐÚNG<\/strong>"),u.push($("#inputAlphabet").val())),$("#divResultReading").html("<strong>"+u.length+"/"+r.length+"<\/strong>"),$("#inputAlphabet").val(""),$("#inputAlphabet").focus(),t++,$("#alphabet").html(r[t]),e&&speak(f[t]),t==r.length)if($("#inputAlphabet").val(""),u.length<r.length){for($("#alphabet").html("Tệ!"),o="",n=0;n<f.length;n++){for(s=!1,i=0;i<u.length;i++)if(f[n]==u[i]){s=!0;break}s||(o+=f[n]+";")}$("#divResultMessageReading").html("<strong>Các từ sai: "+o+"<\/strong>")}else $("#alphabet").html("Ngon!"),$("#divResultMessageReading").html("")}else alert("Gõ kí tự Romaji!")});$("#btnResultReading").on("click",function(){u.length<r.length?alert("Thử thêm lần nữa!"):alert("Tốt!")});$("#btnResetReadingModal").on("click",function(){$("#modelTestReading").modal("hide");$("#modelReading").modal()});$("#inputAlphabet").keypress(function(n){var t=n.keyCode?n.keyCode:n.which;t=="13"&&$("#btnOkReadingModal").trigger("click")});$("#chkSelectAllReading").on("change",function(){$(this).is(":checked")?checkAllReading(!0):checkAllReading(!1)});$("#modelTestReading").on("shown.bs.modal",function(){$("#inputAlphabet").focus()});$("#aWordReading").on("click",function(){$("input:checked[name=chkWordType]").each(function(){$(this).removeAttr("checked")});$("#normal").prop("checked",!0);$("#chkVoiceWordReading").prop("checked",!0);$("#chkSelectAllWordReading").removeAttr("checked")});$("#btnOkWordModal").on("click",function(){u=[];writingWordArray=[];t=0;var n=$("#normal").is(":checked"),i=$("#ducam").is(":checked"),r=$("#xucam").is(":checked"),f=$("#aoam").is(":checked"),e=$("#truongam").is(":checked");getReadings(n,i,e,r,f)});$("#btnOkWordReadingModal").on("click",function(){$("#inputWord").val()==""||!$("#inputWord").val()?alert("Gõ kí tự Romaji!"):($("#inputWord").val()!=writingWordArray[t].Romaji?$("#divResultMessageWordReading").html("<strong>SAI. TỪ ĐÚNG: "+writingWordArray[t].Romaji+" - "+writingWordArray[t].Katakana+"<\/strong>"):($("#divResultMessageWordReading").html("<strong>ĐÚNG<\/strong>"),u.push($("#inputWord").val())),$("#divResultWordReading").html("<strong>"+u.length+"/"+writingWordArray.length+"<\/strong>"),$("#inputWord").val(""),$("#inputWord").focus(),t++,$("#word").html(writingWordArray[t].Katakana),e&&speak(writingWordArray[t].Romaji))});$("#modelTestWordReading").keydown(function(n){var t=n.keyCode?n.keyCode:n.which;t=="13"&&$("#btnOkWordReadingModal").trigger("click")});$("#btnResetWordReadingModal").on("click",function(){$("#modelTestWordReading").modal("hide");$("input:checked[name=chkWordType]").each(function(){$(this).removeAttr("checked")});$("#normal").prop("checked",!0);$("#chkVoiceWordReading").prop("checked",!0);$("#chkSelectAllWordReading").removeAttr("checked");$("#modelWordReading").modal()});$("#chkSelectAllWordReading").on("change",function(){$(this).is(":checked")?checkAllWordReading(!0):checkAllWordReading(!1)});$("#modelTestWordReading").on("shown.bs.modal",function(){$("#inputWord").focus()});$("#aWriting").on("click",function(){getWritings(!0,!0,!0,!0,!0)});i=0;$("#btnOkWritingModal").on("click",function(){i<writingWordArray.length-1&&(i++,$("#chkDisplay").removeAttr("checked"),$("#alphabetWriting").css("display","none"),$("#meaningWriting").css("display","block"),$("#alphabetWriting").html("<strong>"+writingWordArray[i].Katakana+"<\/strong>"),$("#meaningWriting").html("<strong>"+writingWordArray[i].VMeaning+"<\/strong>"),$("#romajiWriting").val(writingWordArray[i].Romaji),speak(writingWordArray[i].Romaji))});$("#btnPreviousWritingModal").on("click",function(){i>0&&(i--,$("#chkDisplay").removeAttr("checked"),$("#alphabetWriting").css("display","none"),$("#meaningWriting").css("display","block"),$("#alphabetWriting").html("<strong>"+writingWordArray[i].Katakana+"<\/strong>"),$("#meaningWriting").html("<strong>"+writingWordArray[i].VMeaning+"<\/strong>"),$("#romajiWriting").val(writingWordArray[i].Romaji),speak(writingWordArray[i].Romaji))});$("#repeat").on("click",function(){speak($("#romajiWriting").val())});$("#chkDisplay").on("change",function(){$(this).is(":checked")?$("#alphabetWriting").css("display","block"):$("#alphabetWriting").css("display","none")});$("#modelWriting").keydown(function(n){var t=n.keyCode?n.keyCode:n.which;return t=="13"||t=="39"?$("#btnOkWritingModal").trigger("click"):t==37?$("#btnPreviousWritingModal").trigger("click"):t==32?$("#repeat").trigger("click"):t==40?($("#chkDisplay").prop("checked",!0),$("#alphabetWriting").css("display","block")):t==38&&($("#chkDisplay").removeAttr("checked"),$("#alphabetWriting").css("display","none")),!1})});Array.prototype.remove=function(){for(var n,t=arguments,i=t.length,r;i&&this.length;)for(n=t[--i];(r=this.indexOf(n))!==-1;)this.splice(r,1);return this};
/*
//# sourceMappingURL=pka.min.js.map
*/