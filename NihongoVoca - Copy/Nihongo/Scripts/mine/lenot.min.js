function updateHasMarked(){if(vocas[currentIndex].HasMarked=="0"){alert("Từ vựng này đã xóa khỏi Sổ tay");return}vocas[currentIndex].HasMarked="0";vocas.length>0&&$.ajax({cache:!0,type:"post",async:!0,url:"/Library/"+$("#uhm").val(),data:JSON.stringify(vocas[currentIndex]),dataType:"json",contentType:"application/json",success:function(n){var i,t;if(n.ReturnCode==accessDenied)vocas[currentIndex].HasMarked="1",window.location.href="/Account/RequireLogin";else if(n.ReturnCode!=0)vocas[currentIndex].HasMarked="1",alert("Có lỗi xảy ra");else{for(alert("Đã xóa khỏi Sổ tay của bạn"),i=!0,t=0;t<vocas.length;t++)if(vocas[t].HasMarked=="1"){i=!1;break}i&&(window.location.href="/thu-vien-tu-vung-tieng-nhat/so-tay-tu-vung")}},error:function(n){return console.log(n.responseText),!1}})}function getNotebookVocas(){vocas=[];failArray=[];var n=$("#accessDenied").val();$.ajax({cache:!0,type:"get",async:!0,url:"/Library/"+$("#gnv").val(),dataType:"json",success:function(t){var i,r;t.returnCode==n?window.location.href="/Account/RequireLogin":(typeof type=="undefined"&&(totalVoca=t.vocabularies.length,numOfHasLearnt=t.numOfHasLearnt),$.each(t.vocabularies,function(n,t){vocas.push(t);defaultVocas.push(t);var i=new Audio(t.UrlAudio);i.load()}),i=!0,vocas.length<=0&&(alert("Không tìm thấy từ vựng"),i=!1),i&&(currentIndex=0,showFlashCard(currentIndex,!0)),r='<div class="progress-bar" role="progressbar" aria-valuenow="'+numOfHasLearnt+'" aria-valuemin="0" aria-valuemax="'+(totalVoca==0?vocas.length:totalVoca)+'" style="width: '+numOfHasLearnt/(totalVoca==0?vocas.length:totalVoca)*100+'%; min-width: 2em;">'+numOfHasLearnt+"/"+(totalVoca==0?vocas.length:totalVoca)+"<\/div>",$("#progress").html(r))},error:function(n){return console.log(n.responseText),!1},beforeSend:function(){$("#loadingModal").modal()},complete:function(){$("#loadingModal").modal("hide")}})}function loadSelectedVocas(){var n,t;for($("#tblVoca tr:not(:first)").remove(),n=0;n<selectedArray.length;n++)selectedArray[n]!=null&&(t="<tr>",t+="       <td>",t+="           <button type='button' class='btn btn-link' onclick='showSelectedFlashCard("+selectedArray[n].LineNumber+");'>"+selectedArray[n].Hiragana+";"+selectedArray[n].Katakana+"<\/button><\/td>",t+="       <\/td>",t+="       <td>",t+="           <span id='"+selectedArray[n].LineNumber+"' class='glyphicon glyphicon-remove' aria-hidden='true' onclick='removeVoca("+selectedArray[n].LineNumber+");'><\/span>",t+="       <\/td>",t+="   <\/tr>",$("#tblVoca tr:last").after(t))}function getLink(n){return n}function draw(){var n=vocas[currentIndex],t,i;$("#draw").html("");t="";n!=null&&($("#rdoHiragana").is(":checked")&&n.Hiragana!=""?t=n.Hiragana:$("#rdoKatakana").is(":checked")&&n.Katakana!=""?t=n.Katakana:$("#rdoKanji").is(":checked")&&n.Kanji!=""&&(t=n.Kanji));i=new Dmak(t,{element:"draw"})}function showDrawing(){$("#modalDraw").modal()}function showFlashCard(n,t){var r=searchVoca(n),i;if(r!=null){if(i="",i+='<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">',i+='   <div class="carousel-inner" role="listbox">',i+='       <div class="item active">',i+='           <div class="row">',i+='               <div class="col-lg-4 col-md-4 col-xs-12">',i+='                   <img class="img-responsive" src="'+getLink(r.UrlImage)+'" alt="Từ vựng tiếng Nhật" style="height: 300px" />',i+="               <\/div>",i+='               <div class="col-lg-8 col-md-8 col-xs-12">',i+='                   <p class="text-info">Định nghĩa<\/p>',i+='                   <p class="text-default">'+r.Description+"<\/p>",i+="               <\/div>",i+="           <\/div>",i+="       <\/div>",i+='       <div class="item">',i+='           <div class="row">',i+='               <div class="col-lg-4 col-md-4 hidden-xs hidden-sm">',i+='                   <img class="img-responsive" src="'+getLink(r.UrlImage)+'" alt="Từ vựng tiếng Nhật" style="height: 300px" />',i+="               <\/div>",i+='               <div class="col-lg-8 col-md-8">',r.DisplayType=="3")i+='                   <div class="row">',i+='                       <div class="col-md-12">',i+='                       <div class="col-md-4 col-sm-12 col-xs-12">',i+='                           <h2><p class="text-info">'+r.Kanji+'<\/p><span class="selected glyphicon glyphicon-volume-up" aria-hidden="true" onclick="speak(\''+r.UrlAudio+"');\"><\/span><\/h2>",i+='                           <p class="text-default"><strong>Nghĩa<\/strong>: '+r.VMeaning+"<\/p>",i+='                           <p class="text-default"><strong>Hán Việt<\/strong>: '+r.Pinyin+"<\/p>",i+="                       <\/div>",i+='                       <div class="col-md-4 col-sm-6 col-xs-6">',i+='                           <p class="text-info">On-yomi: <\/p>',r.OnReading!=""&&(i+='                       <p class="text-default">'+r.OnReading+" "+r.OnRomaji,i+="                       <\/p>"),r.OnReading2!=""&&(i+='                       <p class="text-default">'+r.OnReading2+" "+r.OnRomaji2,i+="                       <\/p>"),i+="                       <\/div>",i+='                       <div class="col-md-4 col-sm-6 col-xs-6">',i+='                           <p class="text-info">Kun-yomi: <\/p>',r.KunReading!=""&&(i+='                       <p class="text-default">'+r.KunReading+" "+r.KunRomaji,i+="                       <\/p>"),r.KunReading2!=""&&(i+='                       <p class="text-default">'+r.KunReading2+" "+r.KunRomaji2,i+="                       <\/p>"),i+="                       <\/div>",i+="                   <\/div>",i+="                   <\/div>",i+='                   <hr class="divider" />',i+='                   <div class="col-md-4 text-center">',i+='                   <button onclick="draw();" class="btn btn-default">Cách viết<\/button>',i+="                   <\/div>",i+='                   <div class="col-md-2 text-center">',i+='                   <label class="radio-inline"><input type="radio" name="rdoDraw" id="rdoKanji" checked="checked">Kanji<\/label>',i+="                   <\/div>",i+='                   <div class="col-md-12" id="draw"><\/div>';else{i+='                   <div class="col-md-12">';i+='                   <h4><p class="text-info">'+r.Hiragana+"<\/p><\/h4>";i+='                   <h4><p class="text-info">'+r.Katakana+"<\/p><\/h4>";i+='                   <h4><p class="text-info">'+r.Kanji+"<\/p><\/h4>";i+='                   <p class="text-default">'+r.Romaji;i+='                   <span class="selected glyphicon glyphicon-volume-up" aria-hidden="true" onclick="speak(\''+r.UrlAudio+"');\"><\/span>";i+="                   <\/p>";i+='                   <p class="text-default">'+r.VMeaning+"<\/p>";i+='                   <hr class="divider" />';i+="                   <\/div>";i+='                   <div class="col-md-4 text-center">';i+='                   <button onclick="draw();" class="btn btn-default">Cách viết<\/button>';i+="                   <\/div>";var u=r.DisplayType=="1"?"checked = 'checked'":"",f=r.DisplayType=="2"?"checked = 'checked'":"",e=r.DisplayType=="3"?"checked = 'checked'":"";i+='                   <div class="col-md-6 text-center">';i+='                   <label class="radio-inline"><input type="radio" name="rdoDraw" id="rdoHiragana" '+u+'">Hiragana<\/label>';i+='                   <label class="radio-inline"><input type="radio" name="rdoDraw" id="rdoKatakana" '+f+'">Katakana<\/label>';i+='                   <label class="radio-inline"><input type="radio" name="rdoDraw" id="rdoKanji" "'+e+'">Kanji<\/label>';i+="                   <\/div>";i+='                   <div class="col-md-12" id="draw"><\/div>'}i+="               <\/div>";i+="           <\/div>";i+="       <\/div>";i+='       <a id="flashPre" class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">';i+='           <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"><\/span>';i+='           <span class="sr-only">Previous<\/span>';i+="       <\/a>";i+='       <a id="flashNext" class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">';i+='           <span class="glyphicon glyphicon-chevron-right" aria-hidden="true">';i+='           <\/span><span class="sr-only">Next<\/span>';i+="       <\/a>";i+="   <\/div>";i+="<\/div>";$("#flashCard").html(i);clearInterval(timer);t&&speak(r.UrlAudio);$(".carousel").carousel({interval:0})}}function searchVoca(n){for(var t=0;t<vocas.length;t++)if(t==n)return vocas[t]}var totalVoca=0,numOfHasLearnt=0,defaultVocas=[],vocas=[],selectedArray=[],currentIndex=0,timer;$(document).ready(function(){getNotebookVocas();var n=$("#ss").val();n==null||n==""?($("#btnAdd").prop("disabled",!0),$("#btnCheck").addClass("disabled")):($("#btnAdd").prop("disabled",!1),$("#btnCheck").removeClass("disabled"));$("#btnMark").on("click",function(){return updateHasMarked(),!1});$("#btnLast").on("click",function(){currentIndex=vocas.length-1;showFlashCard(currentIndex,!0);$(".navigator").removeClass("btn-primary");$(".navigator").addClass("btn-default");$(this).removeClass("btn-default");$(this).addClass("btn-primary")});$("#btnNext").on("click",function(){currentIndex<vocas.length-1&&(currentIndex++,showFlashCard(currentIndex,!0),$(".navigator").removeClass("btn-primary"),$(".navigator").addClass("btn-default"),$(this).removeClass("btn-default"),$(this).addClass("btn-primary"))});$("#btnFirst").on("click",function(){currentIndex=0;showFlashCard(currentIndex,!0);$(".navigator").removeClass("btn-primary");$(".navigator").addClass("btn-default");$(this).removeClass("btn-default");$(this).addClass("btn-primary")});$("#btnPrevious").on("click",function(){currentIndex>0&&(currentIndex--,showFlashCard(currentIndex,!0),$(".navigator").removeClass("btn-primary"),$(".navigator").addClass("btn-default"),$(this).removeClass("btn-default"),$(this).addClass("btn-primary"))});$(document).keydown(function(n){var t=n.keyCode?n.keyCode:n.which;if(n.ctrlKey){if(t==39)return $("#btnNext").trigger("click"),!1;if(t==37)return $("#btnPrevious").trigger("click"),!1}else{if(t==32)return speak(vocas[currentIndex].UrlAudio),!1;if(t==13)return $("#btnNext").trigger("click"),!1;if(t==39)return $("#flashNext").trigger("click"),!1;if(t==37)return $("#flashPre").trigger("click"),!1}})});
/*
//# sourceMappingURL=lenot.min.js.map
*/